{"version":3,"sources":["node_modules/browser-pack/_prelude.js","scripts/direction-reveal.js","scripts/main.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\n/** \n  Direction aware content reveals.\n\n  @param {Object} Options object.\n  @param {string} selector Container element selector.\n  @param {string} itemSelector Item element selector.\n  @param {string} animationName Animation CSS class.\n*/\n\nconst DirectionReveal = function({\n  selector: selector = '.direction-reveal',\n  itemSelector: itemSelector = '.direction-reveal__card',\n  animationName: animationName = 'swing'\n} = {}) {\n\n  const containers = document.querySelectorAll(selector);\n  \n\n  const _getDirection = function (e, item) {\n    // Width and height of current item\n    let w = item.offsetWidth;\n    let h = item.offsetHeight;\n\n    let position = getPosition(item);\n\n    // Calculate the x/y value of the pointer entering/exiting, relative to the center of the item.\n    let x = (e.pageX - position.x - (w / 2) * (w > h ? (h / w) : 1));\n    let y = (e.pageY - position.y - (h / 2) * (h > w ? (w / h) : 1));\n    \n    // Calculate the angle the pointer entered/exited and convert to clockwise format (top/right/bottom/left = 0/1/2/3).  See https://stackoverflow.com/a/3647634 for a full explanation.\n    let d = Math.round(Math.atan2(y, x) / 1.57079633 + 5) % 4;\n\n    console.table([x, y, w, h, e.pageX, e.pageY, item.offsetLeft, item.offsetTop, position.x, position.y]);\n  \n    return d;\n  };\n\n  // https://www.kirupa.com/html5/get_element_position_using_javascript.htm\n  function getPosition(el) {\n    var xPos = 0;\n    var yPos = 0;\n   \n    while (el) {\n      if (el.tagName == \"BODY\") {\n        // deal with browser quirks with body/window/document and page scroll\n        var xScroll = el.scrollLeft || document.documentElement.scrollLeft;\n        var yScroll = el.scrollTop || document.documentElement.scrollTop;\n   \n        xPos += (el.offsetLeft + el.clientLeft);\n        yPos += (el.offsetTop + el.clientTop);\n      } else {\n        // for all other non-BODY elements\n        xPos += (el.offsetLeft + el.clientLeft);\n        yPos += (el.offsetTop + el.clientTop);\n      }\n   \n      el = el.offsetParent;\n    }\n    return {\n      x: xPos,\n      y: yPos\n    };\n  }\n    \n  const _translateDirection = switchcase({\n    0: 'top',\n    1: 'right',\n    2: 'bottom',\n    3: 'left'\n  })('top');\n  \n\n  const _addClass = function (e, state) {\n    let currentItem = e.currentTarget;\n    let direction = _getDirection(e, currentItem);\n    let directionString = _translateDirection(direction);\n\n    // Remove current animation classes and add current one.\n    let currentCssClasses = currentItem.className.split(' ');\n    let filteredCssClasses = currentCssClasses.filter((cssClass) => (!cssClass.startsWith(animationName))).join(' ');\n    currentItem.className = filteredCssClasses;\n    currentItem.classList.add(`${animationName}--${state}-${directionString}`);\n  };\n\n  \n  const _bindEvents = function (containerItem) {\n    const items = containerItem.querySelectorAll(itemSelector);\n    \n    items.forEach((item) => {\n                        \n      item.addEventListener('mouseenter', function (e) {\n        _addClass(e, 'in');\n      });\n    \n      item.addEventListener('mouseleave', function (e) {\n        _addClass(e, 'out');\n      });\n\n    });\n  };\n\n\n  const init = function () {\n\n    if (containers.length) {\n      containers.forEach((containerItem) => {\n        _bindEvents(containerItem);\n      });\n    }\n    else {\n      return;\n    }\n\n  };\n\n  // Init is called by default\n  init();\n\n\n  // Reveal API\n  return {\n    init\n  };\n};\n\nexport default DirectionReveal;\n\n\n// Better switch cases - https://hackernoon.com/rethinking-javascript-eliminate-the-switch-statement-for-better-code-5c81c044716d\nexport const switchcase = cases => defaultCase => key =>\nkey in cases ? cases[key] : defaultCase;\n","import DirectionReveal from './direction-reveal.js';\n\n// Swing animation(Default)\nconst directionReveal = DirectionReveal({\n  selector: '.direction-reveal--demo-swing'\n});\n\n// Swipe animation with all options specified\nconst directionRevealSlide = DirectionReveal({\n  selector: '.direction-reveal--demo-slide',\n  itemSelector: '.direction-reveal__card',\n  animationName: 'slide'\n});\n\n// Bootstrap demo\nconst directionRevealBoostrap = DirectionReveal({\n  selector: '.direction-reveal--demo-bootstrap'\n});\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzY3JpcHRzL2RpcmVjdGlvbi1yZXZlYWwuanMiLCJzY3JpcHRzL21haW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUNDQTs7Ozs7Ozs7O0FBU0EsSUFBTSxrQkFBa0IsU0FBbEIsZUFBa0IsR0FJaEI7QUFBQSxpRkFBSixFQUFJO0FBQUEsMkJBSE4sUUFHTTtBQUFBLE1BSEksUUFHSixpQ0FIZSxtQkFHZjtBQUFBLCtCQUZOLFlBRU07QUFBQSxNQUZRLFlBRVIscUNBRnVCLHlCQUV2QjtBQUFBLGdDQUROLGFBQ007QUFBQSxNQURTLGFBQ1Qsc0NBRHlCLE9BQ3pCOztBQUVOLE1BQU0sYUFBYSxTQUFTLGdCQUFULENBQTBCLFFBQTFCLENBQW5COztBQUdBLE1BQU0sZ0JBQWdCLFNBQWhCLGFBQWdCLENBQVUsQ0FBVixFQUFhLElBQWIsRUFBbUI7QUFDdkM7QUFDQSxRQUFJLElBQUksS0FBSyxXQUFiO0FBQ0EsUUFBSSxJQUFJLEtBQUssWUFBYjs7QUFFQSxRQUFJLFdBQVcsWUFBWSxJQUFaLENBQWY7O0FBRUE7QUFDQSxRQUFJLElBQUssRUFBRSxLQUFGLEdBQVUsU0FBUyxDQUFuQixHQUF3QixJQUFJLENBQUwsSUFBVyxJQUFJLENBQUosR0FBUyxJQUFJLENBQWIsR0FBa0IsQ0FBN0IsQ0FBaEM7QUFDQSxRQUFJLElBQUssRUFBRSxLQUFGLEdBQVUsU0FBUyxDQUFuQixHQUF3QixJQUFJLENBQUwsSUFBVyxJQUFJLENBQUosR0FBUyxJQUFJLENBQWIsR0FBa0IsQ0FBN0IsQ0FBaEM7O0FBRUE7QUFDQSxRQUFJLElBQUksS0FBSyxLQUFMLENBQVcsS0FBSyxLQUFMLENBQVcsQ0FBWCxFQUFjLENBQWQsSUFBbUIsVUFBbkIsR0FBZ0MsQ0FBM0MsSUFBZ0QsQ0FBeEQ7O0FBRUEsWUFBUSxLQUFSLENBQWMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAs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QSxXQUFlO0FBQUEsYUFDbEQsT0FBTyxLQUFQLEdBQWUsTUFBTSxHQUFOLENBQWYsR0FBNEIsV0FEc0I7QUFBQSxLQUFmO0FBQUEsR0FBVDtBQUFBLENBQW5COzs7OztBQ2xJUDs7Ozs7O0FBRUE7QUFDQSxJQUFNLGtCQUFrQiwrQkFBZ0I7QUFDdEMsWUFBVTtBQUQ0QixDQUFoQixDQUF4Qjs7QUFJQTtBQUNBLElBQU0sdUJBQXVCLCtCQUFnQjtBQUMzQyxZQUFVLCtCQURpQztBQUUzQyxnQkFBYyx5QkFGNkI7QUFHM0MsaUJBQWU7QUFINEIsQ0FBaEIsQ0FBN0I7O0FBTUE7QUFDQSxJQUFNLDBCQUEwQiwrQkFBZ0I7QUFDOUMsWUFBVTtBQURvQyxDQUFoQixDQUFoQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJcbi8qKiBcbiAgRGlyZWN0aW9uIGF3YXJlIGNvbnRlbnQgcmV2ZWFscy5cblxuICBAcGFyYW0ge09iamVjdH0gT3B0aW9ucyBvYmplY3QuXG4gIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciBDb250YWluZXIgZWxlbWVudCBzZWxlY3Rvci5cbiAgQHBhcmFtIHtzdHJpbmd9IGl0ZW1TZWxlY3RvciBJdGVtIGVsZW1lbnQgc2VsZWN0b3IuXG4gIEBwYXJhbSB7c3RyaW5nfSBhbmltYXRpb25OYW1lIEFuaW1hdGlvbiBDU1MgY2xhc3MuXG4qL1xuXG5jb25zdCBEaXJlY3Rpb25SZXZlYWwgPSBmdW5jdGlvbih7XG4gIHNlbGVjdG9yOiBzZWxlY3RvciA9ICcuZGlyZWN0aW9uLXJldmVhbCcsXG4gIGl0ZW1TZWxlY3RvcjogaXRlbVNlbGVjdG9yID0gJy5kaXJlY3Rpb24tcmV2ZWFsX19jYXJkJyxcbiAgYW5pbWF0aW9uTmFtZTogYW5pbWF0aW9uTmFtZSA9ICdzd2luZydcbn0gPSB7fSkge1xuXG4gIGNvbnN0IGNvbnRhaW5lcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgXG5cbiAgY29uc3QgX2dldERpcmVjdGlvbiA9IGZ1bmN0aW9uIChlLCBpdGVtKSB7XG4gICAgLy8gV2lkdGggYW5kIGhlaWdodCBvZiBjdXJyZW50IGl0ZW1cbiAgICBsZXQgdyA9IGl0ZW0ub2Zmc2V0V2lkdGg7XG4gICAgbGV0IGggPSBpdGVtLm9mZnNldEhlaWdodDtcblxuICAgIGxldCBwb3NpdGlvbiA9IGdldFBvc2l0aW9uKGl0ZW0pO1xuXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSB4L3kgdmFsdWUgb2YgdGhlIHBvaW50ZXIgZW50ZXJpbmcvZXhpdGluZywgcmVsYXRpdmUgdG8gdGhlIGNlbnRlciBvZiB0aGUgaXRlbS5cbiAgICBsZXQgeCA9IChlLnBhZ2VYIC0gcG9zaXRpb24ueCAtICh3IC8gMikgKiAodyA+IGggPyAoaCAvIHcpIDogMSkpO1xuICAgIGxldCB5ID0gKGUucGFnZVkgLSBwb3NpdGlvbi55IC0gKGggLyAyKSAqIChoID4gdyA/ICh3IC8gaCkgOiAxKSk7XG4gICAgXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBhbmdsZSB0aGUgcG9pbnRlciBlbnRlcmVkL2V4aXRlZCBhbmQgY29udmVydCB0byBjbG9ja3dpc2UgZm9ybWF0ICh0b3AvcmlnaHQvYm90dG9tL2xlZnQgPSAwLzEvMi8zKS4gIFNlZSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzY0NzYzNCBmb3IgYSBmdWxsIGV4cGxhbmF0aW9uLlxuICAgIGxldCBkID0gTWF0aC5yb3VuZChNYXRoLmF0YW4yKHksIHgpIC8gMS41NzA3OTYzMyArIDUpICUgNDtcblxuICAgIGNvbnNvbGUudGFibGUoW3gsIHksIHcsIGgsIGUucGFnZVgsIGUucGFnZVksIGl0ZW0ub2Zmc2V0TGVmdCwgaXRlbS5vZmZzZXRUb3AsIHBvc2l0aW9uLngsIHBvc2l0aW9uLnldKTtcbiAgXG4gICAgcmV0dXJuIGQ7XG4gIH07XG5cbiAgLy8gaHR0cHM6Ly93d3cua2lydXBhLmNvbS9odG1sNS9nZXRfZWxlbWVudF9wb3NpdGlvbl91c2luZ19qYXZhc2NyaXB0Lmh0bVxuICBmdW5jdGlvbiBnZXRQb3NpdGlvbihlbCkge1xuICAgIHZhciB4UG9zID0gMDtcbiAgICB2YXIgeVBvcyA9IDA7XG4gICBcbiAgICB3aGlsZSAoZWwpIHtcbiAgICAgIGlmIChlbC50YWdOYW1lID09IFwiQk9EWVwiKSB7XG4gICAgICAgIC8vIGRlYWwgd2l0aCBicm93c2VyIHF1aXJrcyB3aXRoIGJvZHkvd2luZG93L2RvY3VtZW50IGFuZCBwYWdlIHNjcm9sbFxuICAgICAgICB2YXIgeFNjcm9sbCA9IGVsLnNjcm9sbExlZnQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7XG4gICAgICAgIHZhciB5U2Nyb2xsID0gZWwuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gICBcbiAgICAgICAgeFBvcyArPSAoZWwub2Zmc2V0TGVmdCArIGVsLmNsaWVudExlZnQpO1xuICAgICAgICB5UG9zICs9IChlbC5vZmZzZXRUb3AgKyBlbC5jbGllbnRUb3ApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZm9yIGFsbCBvdGhlciBub24tQk9EWSBlbGVtZW50c1xuICAgICAgICB4UG9zICs9IChlbC5vZmZzZXRMZWZ0ICsgZWwuY2xpZW50TGVmdCk7XG4gICAgICAgIHlQb3MgKz0gKGVsLm9mZnNldFRvcCArIGVsLmNsaWVudFRvcCk7XG4gICAgICB9XG4gICBcbiAgICAgIGVsID0gZWwub2Zmc2V0UGFyZW50O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgeDogeFBvcyxcbiAgICAgIHk6IHlQb3NcbiAgICB9O1xuICB9XG4gICAgXG4gIGNvbnN0IF90cmFuc2xhdGVEaXJlY3Rpb24gPSBzd2l0Y2hjYXNlKHtcbiAgICAwOiAndG9wJyxcbiAgICAxOiAncmlnaHQnLFxuICAgIDI6ICdib3R0b20nLFxuICAgIDM6ICdsZWZ0J1xuICB9KSgndG9wJyk7XG4gIFxuXG4gIGNvbnN0IF9hZGRDbGFzcyA9IGZ1bmN0aW9uIChlLCBzdGF0ZSkge1xuICAgIGxldCBjdXJyZW50SXRlbSA9IGUuY3VycmVudFRhcmdldDtcbiAgICBsZXQgZGlyZWN0aW9uID0gX2dldERpcmVjdGlvbihlLCBjdXJyZW50SXRlbSk7XG4gICAgbGV0IGRpcmVjdGlvblN0cmluZyA9IF90cmFuc2xhdGVEaXJlY3Rpb24oZGlyZWN0aW9uKTtcblxuICAgIC8vIFJlbW92ZSBjdXJyZW50IGFuaW1hdGlvbiBjbGFzc2VzIGFuZCBhZGQgY3VycmVudCBvbmUuXG4gICAgbGV0IGN1cnJlbnRDc3NDbGFzc2VzID0gY3VycmVudEl0ZW0uY2xhc3NOYW1lLnNwbGl0KCcgJyk7XG4gICAgbGV0IGZpbHRlcmVkQ3NzQ2xhc3NlcyA9IGN1cnJlbnRDc3NDbGFzc2VzLmZpbHRlcigoY3NzQ2xhc3MpID0+ICghY3NzQ2xhc3Muc3RhcnRzV2l0aChhbmltYXRpb25OYW1lKSkpLmpvaW4oJyAnKTtcbiAgICBjdXJyZW50SXRlbS5jbGFzc05hbWUgPSBmaWx0ZXJlZENzc0NsYXNzZXM7XG4gICAgY3VycmVudEl0ZW0uY2xhc3NMaXN0LmFkZChgJHthbmltYXRpb25OYW1lfS0tJHtzdGF0ZX0tJHtkaXJlY3Rpb25TdHJpbmd9YCk7XG4gIH07XG5cbiAgXG4gIGNvbnN0IF9iaW5kRXZlbnRzID0gZnVuY3Rpb24gKGNvbnRhaW5lckl0ZW0pIHtcbiAgICBjb25zdCBpdGVtcyA9IGNvbnRhaW5lckl0ZW0ucXVlcnlTZWxlY3RvckFsbChpdGVtU2VsZWN0b3IpO1xuICAgIFxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgX2FkZENsYXNzKGUsICdpbicpO1xuICAgICAgfSk7XG4gICAgXG4gICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBfYWRkQ2xhc3MoZSwgJ291dCcpO1xuICAgICAgfSk7XG5cbiAgICB9KTtcbiAgfTtcblxuXG4gIGNvbnN0IGluaXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAoY29udGFpbmVycy5sZW5ndGgpIHtcbiAgICAgIGNvbnRhaW5lcnMuZm9yRWFjaCgoY29udGFpbmVySXRlbSkgPT4ge1xuICAgICAgICBfYmluZEV2ZW50cyhjb250YWluZXJJdGVtKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgfTtcblxuICAvLyBJbml0IGlzIGNhbGxlZCBieSBkZWZhdWx0XG4gIGluaXQoKTtcblxuXG4gIC8vIFJldmVhbCBBUElcbiAgcmV0dXJuIHtcbiAgICBpbml0XG4gIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBEaXJlY3Rpb25SZXZlYWw7XG5cblxuLy8gQmV0dGVyIHN3aXRjaCBjYXNlcyAtIGh0dHBzOi8vaGFja2Vybm9vbi5jb20vcmV0aGlua2luZy1qYXZhc2NyaXB0LWVsaW1pbmF0ZS10aGUtc3dpdGNoLXN0YXRlbWVudC1mb3ItYmV0dGVyLWNvZGUtNWM4MWMwNDQ3MTZkXG5leHBvcnQgY29uc3Qgc3dpdGNoY2FzZSA9IGNhc2VzID0+IGRlZmF1bHRDYXNlID0+IGtleSA9Plxua2V5IGluIGNhc2VzID8gY2FzZXNba2V5XSA6IGRlZmF1bHRDYXNlO1xuIiwiaW1wb3J0IERpcmVjdGlvblJldmVhbCBmcm9tICcuL2RpcmVjdGlvbi1yZXZlYWwuanMnO1xuXG4vLyBTd2luZyBhbmltYXRpb24oRGVmYXVsdClcbmNvbnN0IGRpcmVjdGlvblJldmVhbCA9IERpcmVjdGlvblJldmVhbCh7XG4gIHNlbGVjdG9yOiAnLmRpcmVjdGlvbi1yZXZlYWwtLWRlbW8tc3dpbmcnXG59KTtcblxuLy8gU3dpcGUgYW5pbWF0aW9uIHdpdGggYWxsIG9wdGlvbnMgc3BlY2lmaWVkXG5jb25zdCBkaXJlY3Rpb25SZXZlYWxTbGlkZSA9IERpcmVjdGlvblJldmVhbCh7XG4gIHNlbGVjdG9yOiAnLmRpcmVjdGlvbi1yZXZlYWwtLWRlbW8tc2xpZGUnLFxuICBpdGVtU2VsZWN0b3I6ICcuZGlyZWN0aW9uLXJldmVhbF9fY2FyZCcsXG4gIGFuaW1hdGlvbk5hbWU6ICdzbGlkZSdcbn0pO1xuXG4vLyBCb290c3RyYXAgZGVtb1xuY29uc3QgZGlyZWN0aW9uUmV2ZWFsQm9vc3RyYXAgPSBEaXJlY3Rpb25SZXZlYWwoe1xuICBzZWxlY3RvcjogJy5kaXJlY3Rpb24tcmV2ZWFsLS1kZW1vLWJvb3RzdHJhcCdcbn0pO1xuIl19"}